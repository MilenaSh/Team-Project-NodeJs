extends layout
include mixins/nav

block nav
    +nav(isLoggedIn)
block content
    main
        - const selectedCourse = course[0]
        .container
            .row
                .col-md-8
                    img.img-responsive.img-rounded(src='http://placehold.it/900x350', alt='')
                .col-md-4
                    h1 #{selectedCourse.title}
                    p
                        | Course description here
                    -
                        let canEnroll;
                        if (isLoggedIn) {
                            canEnroll = true;
                            const courseID = String(course[0]._id);
                            const currentUser = user[0];
                            currentUser.enrolledCourseIDs.forEach((cID) => {
                                if (cID === courseID) {
                                    canEnroll = false;
                                }
                            });
                        }
                    if (isLoggedIn && canEnroll) 
                        a.btn.btn-primary.btn-lg.enroll-button Enroll
                    else if (isLoggedIn && !canEnroll)
                        h3 You have already enrolled for this course!
                        a.btn.btn-primary.btn-lg.disenroll-button Disenroll
                    else
                        h3 Login to enroll for this course!
            hr
            .row
                .col-lg-12
                    .well.text-center.lecturer-label
                        | Course is taught by #{selectedCourse.lecturer}
            .row
                .col-md-4
                    h2 Heading 1
                    p
                        | Lorem ipsum dolor sit amet, consectetur adipisicing elit. Saepe rem nisi accusamus error velit animi non ipsa placeat. Recusandae, suscipit, soluta quibusdam accusamus a veniam quaerat eveniet eligendi dolor consectetur.
                    a.btn.btn-default(href='#') More Info
                .col-md-4
                    h2 Heading 2
                    p
                        | Lorem ipsum dolor sit amet, consectetur adipisicing elit. Saepe rem nisi accusamus error velit animi non ipsa placeat. Recusandae, suscipit, soluta quibusdam accusamus a veniam quaerat eveniet eligendi dolor consectetur.
                    a.btn.btn-default(href='#') More Info
                .col-md-4
                    h2 Heading 3
                    p
                        | Lorem ipsum dolor sit amet, consectetur adipisicing elit. Saepe rem nisi accusamus error velit animi non ipsa placeat. Recusandae, suscipit, soluta quibusdam accusamus a veniam quaerat eveniet eligendi dolor consectetur.
                    a.btn.btn-default(href='#') More Info